<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1" http-equiv="X-UA-Conpatible" />
        <h:outputStylesheet library="css" name="bootstrap.min.css" />
        <title>Add New Voter</title>
        <style type="text/css">
            .btnWidth {
                width: 80px;
            }     
            .col-sm-updated {        	
                padding-top: 7px;    		
            }
            .col-sm-updated a {
                margin-left: 30px;
                text-decoration: none !important;
            }
            .col-sm-27 {
                width: 27% !important	;
            }
        </style>
    </h:head>
    <h:body>
        <ui:composition template="/WEB-INF/templates/template.xhtml">
            <ui:define name="top">
                <!--<h3> Logged in user: <span style="color:green"> {personBean.email} </span></h3>-->
                <center><h2><h:outputText value="Create New Group"/></h2></center>
            </ui:define>
            <ui:define name="content">
                <h:form id="newGroupForm" styleClass="form-horizontal">        
                    <div class="form-group">
                        <h:outputLabel for="orgId" styleClass="control-label col-sm-4">Organizer Id:</h:outputLabel>
                        <div class="col-sm-4"><h:outputText value="#{personBean.email}" styleClass="text text-success" /></div>
                    </div>
                    <div class="form-group">
                        <h:outputLabel for="groupName" styleClass="control-label col-sm-4">Group Name:</h:outputLabel>
                        <div class="col-sm-4">
                            <h:inputText id="groupName" value="#{personBean.groupName}" styleClass="form-control" required="true" requiredMessage="Group Name is required" />
                        </div>
                        <h:message for="groupName" styleClass="text text-danger" />
                    </div>
                    <div class="form-group">
                        <h:outputLabel for="personMails" styleClass="control-label col-sm-4">Select Person Mail Ids:</h:outputLabel>
                        <div class="col-sm-4">
                            <h:selectManyListbox id="personMails" value="#{personBean.selectedPersons}" styleClass="form-control" style="max-height: 100px;" required="true" requiredMessage="Group must have at least one person">
                                <f:selectItems value="#{personBean.availablePersons}" var="n" itemValue="#{n.email}" itemLabel="#{n.email}" />
                            </h:selectManyListbox>
                        </div>
                        <h:message for="personMails" styleClass="text text-danger" />
                    </div>         
                    <div class="form-group">
                        <div class="col-sm-2 col-sm-27" />
                        <div class="col-sm-4">
                            <div class="col-sm-2" style="display: inline-block">
                                <h:commandButton value="Save and Go to new poll" action="#{personBean.addNewGroup}" styleClass="btn btn-success btnWidth" >
                                </h:commandButton>
                            </div>
                            <div class="col-sm-1" style="display: inline-block"/>
                            <div class="col-sm-updated" style="display: inline-block; float: right;"><h:outputLink value="dashboard.xhtml">Back to dashboard</h:outputLink></div>
                        </div>
                    </div>
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>